



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://docs.witnet.io/tutorials/bitcoin-price-feed/sources/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>2. Adding data sources - Witnet Protocol Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#2-choose-and-add-data-sources-for-the-price-feed" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->
<header class="md-header" data-md-component="header">

    <!-- Top-level navigation -->
    <nav class="md-header-nav md-grid">
        <div class="md-flex">

            <!-- Link to home -->
            <div class="md-flex__cell md-flex__cell--shrink">
                <a href="https://docs.witnet.io"
                   title="Witnet Protocol Documentation"
                   class="md-header-nav__button md-logo">
                    
                    <img src="../../../assets/images/logo.svg" alt="Witnet Logo" height="26" />
                    
                </a>
            </div>

            <!-- Button to toggle drawer -->
            <div class="md-flex__cell md-flex__cell--shrink">
                <label class="md-icon md-icon--menu md-header-nav__button"
                       for="__drawer"></label>
            </div>

            <!-- Header title -->
            <div class="md-flex__cell md-flex__cell--stretch">
                <div class="md-flex__ellipsis md-header-nav__title"
                     data-md-component="title">
                    
                    <a href="https://docs.witnet.io" class="md-header-nav__topic">the <strong>witnet</strong> documentation</a>
                    <span class="md-header-nav__topic">
              
                2. Adding data sources
              
            </span>
                    
                </div>
            </div>

            <!-- Button to open search dialogue -->
            <div class="md-flex__cell md-flex__cell--shrink">
                
                <label class="md-icon md-icon--search md-header-nav__button"
                       for="__search"></label>

                <!-- Search interface -->
                
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
                
            </div>

            <!-- Repository containing source -->
            
            <div class="md-flex__cell md-flex__cell--shrink">
                <div class="md-header-nav__source">
                    


  

<a href="https://github.com/witnet/documentation/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    witnet/documentation
  </div>
</a>
                </div>
            </div>
            
        </div>
    </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.witnet.io" title="Witnet Protocol Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../../assets/images/logo.svg" alt="Witnet Logo" width="48" height="48">
      
    </a>
    Witnet Protocol Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/witnet/documentation/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    witnet/documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../.." title="Ecosystem" class="md-nav__link">
      Ecosystem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../overview/concepts/" title="What is Witnet?" class="md-nav__link">
      What is Witnet?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../overview/software/" title="Software" class="md-nav__link">
      Software
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Quickstart
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Quickstart
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../try/run-a-node/" title="Run a Node" class="md-nav__link">
      Run a Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../try/use-from-ethereum/" title="Connect your Ethereum contracts to external APIs" class="md-nav__link">
      Connect your Ethereum contracts to external APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-project/" title="1. Create a new project" class="md-nav__link">
      1. Create a new project
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        2. Adding data sources
      </label>
    
    <a href="./" title="2. Adding data sources" class="md-nav__link md-nav__link--active">
      2. Adding data sources
    </a>
    
      <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Table of contents -->
<nav class="md-nav md-nav--secondary">
    

    <!--
      Hack: check whether the content contains a h1 headline. If it does, the
      top-level anchor must be skipped, since it would be redundant to the link
      to the current page that is located just above the anchor. Therefore we
      directly continue with the children of the anchor.
    -->
    
    
    

    <!-- Render item list -->
    
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#a-quick-intro-on-witnet-data-sources" class="md-nav__link">
    A quick intro on Witnet data sources
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#choose-your-sources-carefully" class="md-nav__link">
    Choose your sources carefully
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#introducing-smart-data-sources" class="md-nav__link">
    Introducing smart data sources
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#where-do-i-put-the-sources" class="md-nav__link">
    Where do I put the sources?
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#next-step-define-aggregator-and-tally-functions" class="md-nav__link">
    Next step: define aggregator and tally functions
  </a>
  
</li>
        

        <!-- Source files -->
        

        <!-- Set from config but allow override -->
        
        

        <!-- Disqus integration -->
        
    </ul>
    
    <aside class="disclaimer">
        <p>The Witnet protocol and related software are work in progress.</p>
        <p>The current version is a beta stage and it may not be fully secure, as the incentives outlined in the protocol are not present in the testnet.</p>
        <p>Check <a href="https://github.com/witnet/witnet-rust/issues" target="_blank">this list of issues</a> for more details. Make sure to understand all risks before installing the software.</p>
    </aside>
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aggregations/" title="3. Define aggregator / tally" class="md-nav__link">
      3. Define aggregator / tally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fine-tuning/" title="4. Fine-tune the request" class="md-nav__link">
      4. Fine-tune the request
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../compiling/" title="5. Compile the request" class="md-nav__link">
      5. Compile the request
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contract/" title="6. Write the Solidity contract" class="md-nav__link">
      6. Write the Solidity contract
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migrations/" title="7. Deploy" class="md-nav__link">
      7. Deploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../recap/" title="Recap" class="md-nav__link">
      Recap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Community
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Community
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../community/roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Developer Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Developer Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer/from-source/" title="Compile from source code" class="md-nav__link">
      Compile from source code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Protocol Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Protocol Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol/sortition/" title="Sortition" class="md-nav__link">
      Sortition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Witnet Requests
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Witnet Requests
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol/data-requests/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol/data-requests/radon-encoding/" title="Encoding" class="md-nav__link">
      Encoding
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol/data-requests/examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Operator Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Operator Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../node-operators/hardware-requirements/" title="Hardware requirements" class="md-nav__link">
      Hardware requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../node-operators/systemd-service/" title="Run as systemd service" class="md-nav__link">
      Run as systemd service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../node-operators/docker-compose-service/" title="Run as docker-compose service" class="md-nav__link">
      Run as docker-compose service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../node-operators/cli/" title="Command Line Interface" class="md-nav__link">
      Command Line Interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      More
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        More
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../overview/glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Table of contents -->
<nav class="md-nav md-nav--secondary">
    

    <!--
      Hack: check whether the content contains a h1 headline. If it does, the
      top-level anchor must be skipped, since it would be redundant to the link
      to the current page that is located just above the anchor. Therefore we
      directly continue with the children of the anchor.
    -->
    
    
    

    <!-- Render item list -->
    
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#a-quick-intro-on-witnet-data-sources" class="md-nav__link">
    A quick intro on Witnet data sources
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#choose-your-sources-carefully" class="md-nav__link">
    Choose your sources carefully
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#introducing-smart-data-sources" class="md-nav__link">
    Introducing smart data sources
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#where-do-i-put-the-sources" class="md-nav__link">
    Where do I put the sources?
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#next-step-define-aggregator-and-tally-functions" class="md-nav__link">
    Next step: define aggregator and tally functions
  </a>
  
</li>
        

        <!-- Source files -->
        

        <!-- Set from config but allow override -->
        
        

        <!-- Disqus integration -->
        
    </ul>
    
    <aside class="disclaimer">
        <p>The Witnet protocol and related software are work in progress.</p>
        <p>The current version is a beta stage and it may not be fully secure, as the incentives outlined in the protocol are not present in the testnet.</p>
        <p>Check <a href="https://github.com/witnet/witnet-rust/issues" target="_blank">this list of issues</a> for more details. Make sure to understand all risks before installing the software.</p>
    </aside>
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/witnet/documentation/blob/master/docs/tutorials/bitcoin-price-feed/sources.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="2-choose-and-add-data-sources-for-the-price-feed">2. Choose and add data sources for the price feed<a class="headerlink" href="#2-choose-and-add-data-sources-for-the-price-feed" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p><em>This article is part of the <a href="/tutorials/bitcoin-price-feed/introduction">beginner tutorial on creating a totally
decentralized Bitcoin price feed</a> on Ethereum with Solidity and
Witnet.</em></p>
</div>
<h2 id="a-quick-intro-on-witnet-data-sources">A quick intro on Witnet data sources<a class="headerlink" href="#a-quick-intro-on-witnet-data-sources" title="Permanent link">&para;</a></h2>
<p><strong>Data sources are each of the endpoints from which you want Witnet to
retrieve the data</strong>. Most of the time, these will be the URLs of public APIs.</p>
<p>There is no limit to the number of sources in a single Witnet
request — although the more sources, the higher the fees will be.</p>
<p><strong>Each source can have a companion script</strong> that lists the operations
we want the witnesses to apply on the retrieved data. This enables you
to get the information of your interest extracted out of larger data
structures like JSON objects.</p>
<h2 id="choose-your-sources-carefully">Choose your sources carefully<a class="headerlink" href="#choose-your-sources-carefully" title="Permanent link">&para;</a></h2>
<p>Just like your friends—and your enemies—your <strong>data sources need to be
chosen wisely</strong>. The <em><a href="https://en.wikipedia.org/wiki/Garbage_in,_garbage_out">Garbage In, Garbage Out</a></em> principle
applies here. Regardless of the many <em>checks-and-balances</em>,
well-designed incentives and security measures that the Witnet protocol
implements, if the data sources in your Witnet requests are not
reliable, your contracts won't be either.</p>
<p>The more <strong>reliable</strong> data sources you list, the more
trust-mitigated your Witnet requests will become. In other words, your
contracts will be more resilient to downtime, failure or corruption of
each separate source.</p>
<h2 id="introducing-smart-data-sources">Introducing smart data sources<a class="headerlink" href="#introducing-smart-data-sources" title="Permanent link">&para;</a></h2>
<p>The scripting language used in Witnet requests is very flexible: in
addition to selecting specific pieces of data, you can also transform
them so they are uniform and can be compared or aggregated together.
For example, imagine a request that queries weather data. One source may use
Celsius and the other may use Fahrenheit. You can tell Witnet to
transform them both to Celcius so they can be averaged.</p>
<p>In this tutorial, you will be defining two data sources — one querying
<a href="https://www.bitstamp.net/api/ticker/">Bitstamp</a> and the other for <a href="https://www.bitstamp.net/api/ticker/">CoinDesk</a>:</p>
<div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">Source 1: Bitstamp</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><code><span class="c1">// Retrieves USD price of a bitcoin from the BitStamp API</span>
<span class="kr">const</span> <span class="nx">bitstamp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Witnet</span><span class="p">.</span><span class="nx">Source</span><span class="p">(</span><span class="s2">&quot;https://www.bitstamp.net/api/ticker/&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">parseMapJSON</span><span class="p">()</span>   <span class="c1">// Parse a `Map` from the retrieved `String`</span>
  <span class="p">.</span><span class="nx">getFloat</span><span class="p">(</span><span class="s2">&quot;last&quot;</span><span class="p">)</span> <span class="c1">// Get the `Float` value associated to the `last` key</span>
</code></pre></div></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">Source 2: CoinDesk</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><code><span class="c1">// Retrieves USD price of a bitcoin from CoinDesk&#39;s &quot;bitcoin price index&quot; API</span>
<span class="c1">// The JSON here is a bit more complex, so more operators are needed</span>
<span class="kr">const</span> <span class="nx">coindesk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Witnet</span><span class="p">.</span><span class="nx">Source</span><span class="p">(</span><span class="s2">&quot;https://api.coindesk.com/v1/bpi/currentprice.json&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">parseMapJSON</span><span class="p">()</span>         <span class="c1">// Parse a `Map` from the retrieved `String`</span>
  <span class="p">.</span><span class="nx">getMap</span><span class="p">(</span><span class="s2">&quot;bpi&quot;</span><span class="p">)</span>          <span class="c1">// Get the `Map` value associated to the `bpi` key</span>
  <span class="p">.</span><span class="nx">getMap</span><span class="p">(</span><span class="s2">&quot;USD&quot;</span><span class="p">)</span>          <span class="c1">// Get the `Map` value associated to the `USD` key</span>
  <span class="p">.</span><span class="nx">getFloat</span><span class="p">(</span><span class="s2">&quot;rate_float&quot;</span><span class="p">)</span> <span class="c1">// Get the `Float` value associated to the `rate_float` key</span>
</code></pre></div></div>
</div>
<p>A few things worth noticing:</p>
<ul>
<li>The operators and data types that can be used are defined by the
  <a href="/protocol/data-requests/overview/#rad-object-notation-radon">RADON domain-specific language</a>.</li>
<li>Each operator is applied on the output of the previous operator, just
  as you would expect from Javascript method chaining or
  <a href="https://en.wikipedia.org/wiki/Builder_pattern">the builder pattern</a>.</li>
<li>Source scripts always start with a <code class="codehilite"><span class="err">String</span></code><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>.</li>
<li>Key-value data structures (roughly similar to Javascript <em>objects</em>,
  Python <em>dictionaries</em> or Solidity <em>mappings</em>) are called <em>maps</em>.</li>
<li>Values in maps cannot be accessed directly by name as <code class="codehilite"><span class="na">.keyName</span></code> but
  instead through a call to one of the <code class="codehilite"><span class="na">.getArray</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code>,
  <code class="codehilite"><span class="na">.getBoolean</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code>, <code class="codehilite"><span class="na">.getInteger</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code>, <code class="codehilite"><span class="na">.getFloat</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code>,
  <code class="codehilite"><span class="na">.getInteger</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code>, <code class="codehilite"><span class="na">.getMap</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code> or <code class="codehilite"><span class="na">.getString</span><span class="p">(</span><span class="s">&quot;keyName&quot;</span><span class="p">)</span></code> operators.</li>
<li>The final return type of a script is that of its last operator.</li>
<li>For any combination of known input type and RADON script, the output
  type can be easily guessed upon compilation.</li>
<li><strong>All source scripts MUST return exactly the same type</strong> (<code class="codehilite"><span class="err">Float</span></code> in
  this case).</li>
</ul>
<h2 id="where-do-i-put-the-sources">Where do I put the sources?<a class="headerlink" href="#where-do-i-put-the-sources" title="Permanent link">&para;</a></h2>
<p>Let's create a new <code class="codehilite"><span class="err">requests/BitcoinPrice.js</span></code> file and copy the two example
sources above into it:</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">Witnet</span> <span class="nx">from</span> <span class="s2">&quot;witnet-requests&quot;</span>

<span class="c1">// Retrieves USD price of a bitcoin from the BitStamp API</span>
<span class="kr">const</span> <span class="nx">bitstamp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Witnet</span><span class="p">.</span><span class="nx">Source</span><span class="p">(</span><span class="s2">&quot;https://www.bitstamp.net/api/ticker/&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">parseMapJSON</span><span class="p">()</span>   <span class="c1">// Parse a `Map` from the retrieved `String`</span>
  <span class="p">.</span><span class="nx">getFloat</span><span class="p">(</span><span class="s2">&quot;last&quot;</span><span class="p">)</span> <span class="c1">// Get the `Float` value associated to the `last` key</span>

<span class="c1">// Retrieves USD price of a bitcoin from CoinDesk&#39;s &quot;bitcoin price index&quot; API</span>
<span class="c1">// The JSON here is a bit more complex, thus more operators are needed</span>
<span class="kr">const</span> <span class="nx">coindesk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Witnet</span><span class="p">.</span><span class="nx">Source</span><span class="p">(</span><span class="s2">&quot;https://api.coindesk.com/v1/bpi/currentprice.json&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">parseMapJSON</span><span class="p">()</span>         <span class="c1">// Parse a `Map` from the retrieved `String`</span>
  <span class="p">.</span><span class="nx">getMap</span><span class="p">(</span><span class="s2">&quot;bpi&quot;</span><span class="p">)</span>          <span class="c1">// Get the `Map` value associated to the `bpi` key</span>
  <span class="p">.</span><span class="nx">getMap</span><span class="p">(</span><span class="s2">&quot;USD&quot;</span><span class="p">)</span>          <span class="c1">// Get the `Map` value associated to the `USD` key</span>
  <span class="p">.</span><span class="nx">getFloat</span><span class="p">(</span><span class="s2">&quot;rate_float&quot;</span><span class="p">)</span> <span class="c1">// Get the `Float` value associated to the `rate_float` key</span>
</code></pre></div>

<p>Notice the <code class="codehilite"><span class="err">import</span></code> instruction at the top, which makes it possible to use all
the tools that the Witnet Javascript library provides:</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">Witnet</span> <span class="nx">from</span> <span class="s2">&quot;witnet-requests&quot;</span>
</code></pre></div>

<p>Please make sure you save the <code class="codehilite"><span class="err">requests/BitcoinPrice.js</span></code> file.</p>
<h2 id="next-step-define-aggregator-and-tally-functions">Next step: define aggregator and tally functions<a class="headerlink" href="#next-step-define-aggregator-and-tally-functions" title="Permanent link">&para;</a></h2>
<p>You are done with the sources for now. Let's move forward into
<a href="/tutorials/bitcoin-price-feed/aggregations">defining the aggregation and tally functions</a>.</p>
<div class="admonition question">
<p class="admonition-title">Remember: You are not alone!</p>
<p>Join the Witnet Community <a href="https://discord.gg/X4uurfP">Discord</a> or <a href="https://t.me/witnetio">Telegram</a>.
Members of the Witnet community will be happy to answer your
questions and assist you through this
tutorial.</p>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>In future versions, the Witnet protocol will make no assumptions
on what the data type of the server response will be for different data
sources. This will allow for formats other than plain text,
such as multimedia files and any kind of binaries. Therefore,
source scripts will start with <code class="codehilite"><span class="err">Bytes</span></code> as the input type; it will be
totally up to the requester to specify whether those bytes should be
interpreted as a <code class="codehilite"><span class="err">String</span></code>, <code class="codehilite"><span class="err">Integer</span></code> etc.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>One of the key features in RADON 2.0 will be
implicit type casting, which will dramatically reduce the size of
scripts.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../create-project/" title="1. Create a new project" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                1. Create a new project
              </span>
            </div>
          </a>
        
        
          <a href="../aggregations/" title="3. Define aggregator / tally" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                3. Define aggregator / tally
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            © 2018-2019 The Witnet Community. Available under <a href="https://www.gnu.org/licenses/fdl-1.3.en.html" rel="license">GNU Free Documentation License v1.3</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/witnet" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://reddit.com/r/witnet" target="_blank" rel="noopener" title="reddit" class="md-footer-social__link fa fa-reddit"></a>
    
      <a href="https://twitter.com/witnet_io" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script>
      
        <script src="../../../extra.js"></script>
      
    
  </body>
</html>